<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <title>Upgrading To TDS 4.2</title>

  <link href="../tds.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1><img alt="Unidata" src="../images/unidataLogo.png" align="middle" height="75" width="75"> Upgrading To TDS 4.2</h1>

<hr>

<ul>
  <li>Changes to THREDDS Configuration (threddsConfig.xml)
    <ul>
      <li><a href="#configServerInfo">Server Description</a></li>
      <li><a href="#configWms">WMS Options</a></li>
    </ul>
  </li>
  <li><a href="#wmsConfigFile">Additional WMS Configuration File</a></li>
  <li>Changes to Catalog Configuration
    <ul>
      <li><a href="#configFmrc">Configuring FMRC Datasets</a></li>
    </ul>
  </li>
</ul>

<hr>

<h2>Changes to THREDDS Configuration (threddsConfig.xml)</h2>
<h3><a name="configServerInfo">Server Description</a></h3>
<p>Server information can now be provided in the <code>threddsConfig.xml</code>
  file (more details <a href="reference/ThreddsConfigXMLFile.html#Server_Description">here</a>):
</p>
<pre>
&lt;serverInformation&gt;
    &lt;name&gt;Initial TDS Installation&lt;/name&gt;
    &lt;logoUrl&gt;threddsIcon.gif&lt;/logoUrl&gt;
    &lt;logoAltText&gt;Initial TDS Installation&lt;/logoAltText&gt;

    &lt;abstract&gt;Scientific Data&lt;/abstract&gt;
    &lt;keywords&gt;meteorology, atmosphere, climate, ocean, earth science&lt;/keywords&gt;

    &lt;contact&gt;
      &lt;name&gt;Support&lt;/name&gt;
      &lt;organization&gt;My Group&lt;/organization&gt;
      &lt;email&gt;support@my.group&lt;/email&gt;
      &lt;!--phone&gt;&lt;/phone--&gt;
    &lt;/contact&gt;
    &lt;hostInstitution&gt;
      &lt;name&gt;My Group&lt;/name&gt;
      &lt;webSite&gt;http://www.my.site/&lt;/webSite&gt;
      &lt;logoUrl&gt;myGroup.gif&lt;/logoUrl&gt;
      &lt;logoAltText&gt;My Group&lt;/logoAltText&gt;
    &lt;/hostInstitution&gt;
&lt;/serverInformation&gt;
</pre>

<p>This includes some basic descriptive information about the server; a
name, logo, and web site URL for the hosting institution; and contact
information.</p>

<p>NOTE: Some of this information was
previously (TDS 4.0 and 4.1) provided in the htmlSetup section. Use of the htmlSetup
section for that information is now deprecated (though still supported, for now).<br>
</p>

<h3><a name="configWms">Change in WMS Options</a></h3>

<p>The following shows all the configuration options available in the WMS section of the
  <code>threddsConfig.xml</code> file with the default values shown (more details
  <a href="reference/ThreddsConfigXMLFile.html#WMS">here</a>):
</p>

<pre>
&lt;<strong>WMS</strong>&gt;
  &lt;<strong>allow</strong>&gt;false&lt;/allow&gt;
  &lt;<strong>allowRemote</strong>&gt;false&lt;/allowRemote&gt;
  &lt;<strong>paletteLocationDir</strong>&gt;/WEB-INF/palettes&lt;/paletteLocationDir&gt;
  &lt;<strong>maxImageWidth</strong>&gt;2048&lt;/maxImageWidth&gt;
  &lt;<strong>maxImageHeight</strong>&gt;2048&lt;/maxImageHeight&gt;
&lt;/WMS&gt;
</pre>

<p>We recommend that you include in the <code>threddsConfig.xml</code>
  file only the options you want to change. As a first pass, we recommend the following:
</p>
<pre>
&lt;<strong>WMS</strong>&gt;
  &lt;<strong>allow</strong>&gt;false&lt;/allow&gt;
&lt;/WMS&gt;
</pre>

<h2><a name="wmsConfigFile"></a>Additional WMS Configuration File</h2>
<p>The WMS service now uses a new configuration file for a number of more detailed
  WMS configuration options, mainly focused on the styling of WMS images. Similar
  to the <code>threddsConfig.xml</code> file, the WMS configuration file
  (<code>wmsConfig.xml</code>) is found in the
  <code>${TOMCAT_HOME}/content/thredds</code> directory. A detailed description
  of the <code>wmsConfig.xml</code> file can be found at the MyOcean
  <a href="http://www.resc.reading.ac.uk/trac/myocean-tools/wiki/WmsDetailedConfiguration">"Detailed WMS Configuration" page</a>.
</p>

<h2>Changes to Catalog Configuration</h2>
<h3><a name="#configFmrc">Configuring FMRC Datasets</a></h3>

<p>The <code>datasetFmrc</code> element has been deprecated in favor of the new
  <code>featureCollection</code> element. Details on using the
  <code>featureCollection</code> element and converting <code>datasetFmrc</code>
  elements to <code>featureCollection</code> elements can be found
  <a href="reference/collections/FeatureCollections.html">here</a>.
</p>

<hr>

<address>
<img src="../images/thread.png" alt="TDS" height="108" width="110">This document is maintained by Unidata and was
last updated May, 2010. Send comments to <a href="mailto:support-thredds@unidata.ucar.edu">THREDDS
support</a>.
</address>

</body>
</html>