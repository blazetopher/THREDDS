<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <title>Upgrading To TDS 4.2</title>

  <link href="../tds.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1><img src="../images/unidataLogo.png" align="middle" height="75" width="75"> Upgrading To TDS 4.2</h1>

<hr>Changes to THREDDS Configuration (threddsConfig.xml)<br>
- Server Description<br>
- WMS options<br>
Changes to Catalog Configuration<br>
- FMRC/datasetCollection<br>
<br>
<h2>
Changes to THREDDS Configuration (threddsConfig.xml)</h2>
<h3>Server Description</h3>
<p>Server information can now be provided in the <code>threddsConfig.xml</code>
  file (more details <a href="reference/ThreddsConfigXMLFile.html#Server_Description">here</a>):
</p>
<pre>
&lt;serverInformation&gt;
    &lt;name&gt;Initial TDS Installation&lt;/name&gt;
    &lt;logoUrl&gt;threddsIcon.gif&lt;/logoUrl&gt;
    &lt;logoAltText&gt;Initial TDS Installation&lt;/logoAltText&gt;

    &lt;abstract&gt;Scientific Data&lt;/abstract&gt;
    &lt;keywords&gt;meteorology, atmosphere, climate, ocean, earth science&lt;/keywords&gt;

    &lt;contact&gt;
      &lt;name&gt;Support&lt;/name&gt;
      &lt;organization&gt;My Group&lt;/organization&gt;
      &lt;email&gt;support@my.group&lt;/email&gt;
      &lt;!--phone&gt;&lt;/phone--&gt;
    &lt;/contact&gt;
    &lt;hostInstitution&gt;
      &lt;name&gt;My Group&lt;/name&gt;
      &lt;webSite&gt;http://www.my.site/&lt;/webSite&gt;
      &lt;logoUrl&gt;myGroup.gif&lt;/logoUrl&gt;
      &lt;logoAltText&gt;My Group&lt;/logoAltText&gt;
    &lt;/hostInstitution&gt;
&lt;/serverInformation&gt;
</pre>

<p>This includes some basic descriptive information about the server; a
name, logo, and web site URL for the hosting institution; and contact
information.</p>

<p>NOTE: Some of this information was
previously (TDS 4.0 and 4.1) provided in the htmlSetup section. Use of the htmlSetup
section for that information is now deprecated (though still supported, for now).<br>
</p>

<h3>Change in WMS Options</h3>

<p>The following shows all the configuration options available in the WMS section of the
  <code>threddsConfig.xml</code> file with the default values shown (more details
  <a href="reference/ThreddsConfigXMLFile.html#WMS">here</a>):
</p>

<pre>
&lt;<strong>WMS</strong>&gt;
  &lt;<strong>allow</strong>&gt;false&lt;/allow&gt;
  &lt;<strong>allowRemote</strong>&gt;false&lt;/allowRemote&gt;
  &lt;<strong>paletteLocationDir</strong>&gt;/WEB-INF/palettes&lt;/paletteLocationDir&gt;
  &lt;<strong>maxImageWidth</strong>&gt;2048&lt;/maxImageWidth&gt;
  &lt;<strong>maxImageHeight</strong>&gt;2048&lt;/maxImageHeight&gt;
&lt;/WMS&gt;
</pre>

<p>We recommend that you include in the <code>threddsConfig.xml</code>
  file only the options you want to change. As a first pass, we recommend the following:
</p>
<pre>
&lt;<strong>WMS</strong>&gt;
  &lt;<strong>allow</strong>&gt;false&lt;/allow&gt;
&lt;/WMS&gt;
</pre>

<h2>Changes to Catalog Configuration</h2>
<h3>Changes to How FMRC Datasets Specified (datasetCollection)<br>
</h3>

<h2><a name="EnableServices">Must Explicitly Enable Certain Services</a></h2>
<p>More detail on explicitly enabling services in the <a href="reference/index.html">TDS Reference</a> for each individual service. The following services must be explicitly enabled in the <code>threddsConfig.xml</code> file:</p><ul><li>WCS (required explicit allow since 3.16)</li><li>WCS for remote datasets (required explicit allow since 3.17)</li>
  <li>WMS: general allow and allow for remote datasets.</li>
<li>Catalog Services on remote catalogs (requires explicit allow as of 4.0)</li><li>Less common services:</li><ul><li>DLwriter (requires explicit allow as of 4.0)</li><li>DLwriter on remote catalogs (requires explicit allow as of 4.0)</li></ul><li>Deprecated services (as of 4.0):</li><ul><li>CatalogGen (requires explicit allow as of 4.0)</li><li>DqcService (requires explicit allow as of 4.0)</li></ul></ul><h2><a name="HtmlConfig">Configuration for HTML Pages</a></h2>
<p>TDS 4.0 gives you more control over the HTML pages generated by TDS. Some information you can configure in the <code>threddsConfig.xml</code> file:</p>
<ul>
  <li>Standard CSS document to use.</li>
  <li>CSS document for HTML catalog view pages.</li>
  <li>Name, URL, and logo for your TDS installation (optional).</li>
  <li>Name, URL, and logo for the institution at which you are running your TDS installation (optional).</li>
</ul>
<p>The following is an example from one of our TDS installations:</p>
<pre style="margin-left: 40px;">  &lt;htmlSetup&gt;<br>    &lt;cssPage&gt;tds.css&lt;/cssPage&gt;<br>    &lt;cssCatalog&gt;tdsCat.css&lt;/cssCatalog&gt;<br><br>    &lt;folderIconUrl&gt;folder.gif&lt;/folderIconUrl&gt;<br>    &lt;folderIconAlt&gt;Folder&lt;/folderIconAlt&gt;<br>    &lt;datasetIconUrl&gt;dataset.gif&lt;/datasetIconUrl&gt; &lt;!-- Not currently used. --&gt;<br>    &lt;datasetIconAlt&gt;Dataset&lt;/datasetIconAlt&gt;     &lt;!-- Not currently used. --&gt;<br><br>    &lt;installName&gt;Motherlode TDS&lt;/installName&gt;<br>    &lt;installLogoUrl&gt;unidataLogo.gif&lt;/installLogoUrl&gt;<br>    &lt;installLogoAlt&gt;Motherlode TDS&lt;/installLogoAlt&gt;<br><br>    &lt;hostInstName&gt;Unidata&lt;/hostInstName&gt;<br>    &lt;hostInstUrl&gt;http://www.unidata.ucar.edu/&lt;/hostInstUrl&gt;<br>    &lt;hostInstLogoUrl&gt;unidataLogo.gif&lt;/hostInstLogoUrl&gt;<br>    &lt;hostInstLogoAlt&gt;Unidata&lt;/hostInstLogoAlt&gt;<br>  &lt;/htmlSetup&gt;</pre>
<p>&nbsp;&nbsp;&nbsp;NOTE:
URLs may be absolute or relative, relative URLs must be
relative&nbsp;to the webapp URL, i.e., http://server:port/thredds/.</p><br>
<hr width="100%">

<address>
<img src="../images/thread.png" alt="TDS" height="108" width="110">This document is maintained by Unidata and was
last updated May, 2010. Send comments to <a href="mailto:support-thredds@unidata.ucar.edu">THREDDS
support</a>.
</address>

</body></html>