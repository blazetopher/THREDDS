<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>THREDDS WCS Configuration</title></head>
<body>
<h1><img src="../images/unidataLogo.png" align="middle" height="75" width="75"> Configuring the Web Coverage
Service</h1>
<div class="head">
<address> </address>
</div>
<hr>
<p>Available WCS datasets are listed in a THREDDS catalog like
other datasets. This is not necessarily of much use to WCS clients, who
are more likely to expect a WCS Catalog. However it does allow users to
find the needed URLs by browsing the catalog, or eventually through a
search service. The files can be explicitly named in the catalog, e.g.:</p>
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;catalog xmlns="http://www.unidata.ucar.edu/namespaces/thredds/InvCatalog/v1.0" <br> xmlns:xlink="http://www.w3.org/1999/xlink" version="1.0.1"&gt;</pre>
<pre> &lt;<strong>datasetRoot</strong> path="testwcs" dirLocation="/data/grids/" /&gt;<br> &lt;service name="wcs" serviceType="<strong>WCS</strong>" base="<strong>/thredds/wcs/</strong>" suffix="<strong>?request=GetCapabilities&amp;version=1.0.0&amp;service=WCS</strong>"/&gt;</pre>
<pre> &lt;dataset name="GALEON Test Data"&gt;</pre>
<pre> &lt;metadata inherited="true"&gt;<br> &lt;serviceName&gt;wcs&lt;/serviceName&gt;<br> &lt;authority&gt;unidata.ucar.edu:&lt;/authority&gt;<br> &lt;dataType&gt;Grid&lt;/dataType&gt;<br> &lt;/metadata&gt;</pre>
<pre> &lt;dataset name="striped.nc" urlPath="striped.nc" /&gt;<br> &lt;dataset name="sst.nc" urlPath="sst.nc" /&gt;<br> &lt;dataset name="ocean.nc" urlPath="ocean.nc" /&gt;<br> &lt;dataset name="eta.nc" urlPath="eta.nc" /&gt;<br> &lt;dataset name="RUC.nc" urlPath="RUC.nc" /&gt;</pre>
<pre> &lt;/dataset&gt;<br>&lt;/catalog&gt;</pre>
<p>The files named here all reside in the <strong>/data/grids/
</strong>directory, named by the <strong>datasetRoot</strong>
element in the service. You can also use a DatasetScan element to serve
all the files in a directory tree. See <a href="../tutorial/TDSConfiguration.html">TDS Configuration</a>
for details. The only thing you need for WCS is to make the <strong>serviceType</strong>
<em>WCS</em> and the <strong>base</strong> <em>
/thredds/wcs/</em> . The optional <strong>suffix</strong>
is added at the end of the URL, and forms the WCS <em>GetCapabilities</em>
request URL. You may find it more convenient to not include the suffix.
</p>
<p>In summary, to enable WCS:</p>
<ol>
<li>In your configuration catalogs, you must define a WCS
service element as above, and indicate whicg datasets should use it. </li>
<li>In the <a href="ThreddsConfigXMLFile.html#WCS">threddsConfig.xml
file</a>, set allow to true in the &lt;<strong>WCS</strong>&gt;
element. <br>
</li>
</ol><h3>Serving Remote Datasets </h3>
<p>The TDS can serve remote datasets with the WCS protocol if configured to do so. It must be explicitly configured&nbsp;in the <code>threddsConfig.xml</code> configuration file. This is done by adding an <strong>allowRemote</strong> element to the <strong>WCS</strong> element as follows:</p><pre style="margin-left: 40px;">&lt;WCS&gt;<br>  &lt;allow&gt;true&lt;/allow&gt;<br>  &lt;allowRemote&gt;true&lt;/allowRemote&gt; <br>  ...<br>&lt;/WCS&gt;</pre><p>A slight extension of the WCS Dataset URL format allows the
TDS to serve remote datasets. Identify the dataset by adding the
parameter <strong>dataset</strong> whose value is a URL:</p>
<pre> http://servername:8080/thredds/wcs?<strong>dataset=<em>datasetURL</em>&amp;</strong></pre><p>The URL must be a dataset readable by the NetCDF-Java library,
typically an OPeNDAP dataset on another server. It must have gridded
data, with identifiable coordinate systems, etc. For example, an
OPeNDAP URL might be</p>
<pre> http://las.pfeg.noaa.gov/cgi-bin/nph-dods/data/oceanwatch/nrt/gac/AG14day.nc <br></pre>
<p> This can be served remotely as a WCS dataset with this URL:</p>
<pre> http://servername:8080/thredds/wcs?<strong>dataset=http://las.pfeg.noaa.gov/cgi-bin/nph-dods/data/oceanwatch/nrt/gac/AG14day.nc<br></strong></pre><div class="head"></div>
<hr width="100%">
<address><img src="../images/thread.png" height="108" width="110">This document is maintained by <a href="mailto:caron@unidata.ucar.edu">John Caron</a>
and was last updated on Oct 08, 2007
</address>
<p align="center">&nbsp;</p>
</body></html>