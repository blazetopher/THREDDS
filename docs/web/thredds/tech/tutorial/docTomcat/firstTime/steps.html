<html>
<head>
<title>A set of steps for first time Tomcat installation for the TDS</title>
  <link rel="stylesheet" type="text/css" href="../default.css" title="Style">

</head>

<body>
<a href="index.html"><img src="../images/PreviousArrow.gif" border="0"   alt="Previous: First time Tomcat installation" title="Previous: First time Tomcat installation"></a> <img src="../images/NextArrowDisabled.gif" border="0"   alt="" title=""> <a href="../toc.html"><img src="../images/TOCIcon.gif" border="0"   alt="Table of contents" title="Table of contents"></a> <a href="../mainindex.html"><img src="../images/Index.gif" border="0"   alt="Index" title="Index"></a>  <a href="../glossary.html"><img src="../images/Glossary.gif" border="0"   alt="Glossary" title="Glossary"></a>   <a href="../imageindex.html"><img src="../images/Images.gif" border="0"   alt="Images" title="Images"></a>      <a href="../frames.html" target="_top"><img src="../images/Frames.gif" border="0"   alt="Frames" title="Frames"></a> 
<span class="breadcrumb"><a href="../index.html">Tomcat installation and configuration for THREDDS Data Server</a>  > <a href="index.html">First time Tomcat installation</a>  </span>
<br>
<img src="../images/blueline.gif">
<p>
<div class="pagetitle">1.0 A set of steps for first time Tomcat installation for the TDS</div>



<pre>
Usually a system administrator will do these steps because they need root 
permission. The concept is to create an low permissions environment for user
tomcat because if a security break-in occurs then the hacker cannot do much harm.
There are sercurity measures that will be discussed later and should be 
implemented to avoid break-in attempts.

Steps for a Unix type system:

Following steps are done as root:

- make a tomcat user with low permissions
- make a group for tomcat user with low permissions
- open ports 8080 and 8443, edit file /etc/ipf.conf
- cd /opt
- get tomcat5 distribution ie apache-tomcat-5.5.17.tar.gz from: 
	tomcat.apache.org
- make a directory of the distribution name 
	mkdir apache-tomcat-5.5.17
- chown distribution directory to user tomcat:tomcatgroup
	chown tomcat:tomcatgroup apache-tomcat-5.5.17
- make link from distribution directory to tomcat
	ln -s apache-tomcat-5.5.17 tomcat
- change to user tomcat
	su - tomcat

Note: Do not unpack the tomcat distribution as root because the user tomcat
will not be able to configure the distribution.

Following steps are done as tomcat:

- cd /opt
- unpack distribution  
	tar xzvf apache-tomcat-5.5.17.tar.gz
- cd tomcat/bin
- configure the environment variables for user tomcat. By entering all the
variables into tomcat scripts, it removes the possibility for errors and it
gives greater control over the variables. A common procedure of creating the
variables then adding them to beginning of the scripts before the body of the
scripts. The Unix base system all use the scripts that end with *.sh 
- edit *.sh
	- enter the following environment variable into all the commands. 
#   CATALINA_HOME   May point at your Catalina "build" directory.
#   JAVA_HOME       Must point at your Java Development Kit installation.
#   JAVA_OPTS       (Optional) Java runtime options used when the "start",
#
These are some sample settings. 
#
CATALINA_HOME="/opt/tomcat"
export CATALINA_HOME
JAVA_HOME="/opt/jdk1.5.0_07"
export JAVA_HOME
JAVA_OPTS"-Xmx2048m -Xms512m -server"
export JAVA_OPTS


At this point there should be a basic tomcat installation. To test it, start
it, check the logs, and then stop it.
- in the bin directory
	./startup.sh
- in the ../logs directory
	less catalina.out
		The following line should appear if started ok.
			INFO: Starting service Catalina
	Another check is to see if a browser can find tomcat
		localhost:8080 
		should see:
			If you're seeing this page via a web browser, it means you've setup Tomcat successfully. Congratulations!

- in the bin directory
	./shutdown.sh

Your installation is now ready to install the THREDDS Data Server (TDS) that
will be discussed in it's own section.
	
</pre>
<p>
<div  class="childlist" ><table  width="100%" ></table></div>
<p>&nbsp;<p>
<img src="../images/blueline.gif">
<br>
<a href="index.html"><img src="../images/PreviousArrow.gif" border="0"   alt="Previous: First time Tomcat installation" title="Previous: First time Tomcat installation"></a> <img src="../images/NextArrowDisabled.gif" border="0"   alt="" title=""> <a href="../toc.html"><img src="../images/TOCIcon.gif" border="0"   alt="Table of contents" title="Table of contents"></a> <a href="../mainindex.html"><img src="../images/Index.gif" border="0"   alt="Index" title="Index"></a>   <a href="../glossary.html"><img src="../images/Glossary.gif" border="0"   alt="Glossary" title="Glossary"></a>     <a href="../imageindex.html"><img src="../images/Images.gif" border="0"   alt="Images" title="Images"></a>     <a href="../frames.html" target="_top"><img src="../images/Frames.gif" border="0"   alt="Frames" title="Frames"></a> 
<span class="breadcrumb"><a href="../index.html">Tomcat installation and configuration for THREDDS Data Server</a>  > <a href="index.html">First time Tomcat installation</a>  </span>
<p>

</body>
</html>

