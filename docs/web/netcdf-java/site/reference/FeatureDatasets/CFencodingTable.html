<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>CF encoding Table</title>
</head>

<body>
<h3>CF Encoding Table
</h3>
<table width="1565" height="758" border="1">
  <tr>
    <th width="96" scope="col">Type</th>
    <th width="244" scope="col">single</th>
    <th width="390" scope="col">multidim</th>
    <th width="344" scope="col">ragged</th>
    <th width="237" scope="col">flattened</th>
    <th width="214" scope="col">Nested Table</th>
  </tr>
  <tr>
    <td height="68"><strong>point</strong></td>
    <td>      <p align="center">N/A</p></td>
    <td>      <pre>data(obs)
<strong>time,lat,lon,</strong>z(obs)</pre></td>
    <td><div align="center">N/A</div></td>
    <td><div align="center">N/A</div></td>
    <td><pre>Table { 
  <strong>lat, lon, z, time</strong>;    
  data1, data2, ... 
} obs(sample);</pre></td>
  </tr>
  <tr>
    <td height="116"><strong>station</strong></td>
    <td>      <pre>data(time)
<strong>time</strong>(time)
scalar <strong>lat,lon</strong>,stn_alt,<strong>stn_id</strong></pre></td>
    <td>      <pre>data(station,obs)
<strong>time</strong>(station,obs) | <strong>time</strong>(time)         
<strong>lat,lon</strong>,stn_alt,<strong>stn_id</strong>(station) </pre></td>
    <td>      <pre>data(obs)        
<strong>time</strong>(obs)        
<strong>lat,lon</strong>,stn_alt<strong>,stn_id</strong>(station)        
<strong>numObs</strong>(station) | <strong>stationIndex</strong>(obs) </pre></td>
    <td>      <pre>data(obs)
<strong>time</strong>(obs)<strong>
lat,lon</strong>,stn_alt(obs)
<strong>stn_id</strong>(obs)</pre></td>
    <td><pre>Table {
  <strong>lat, lon, z;</strong>
  Table {
    <strong>time</strong>;
    data1, data2, ...
  } obs(*); 
} station(station); </pre></td>
  </tr>
  <tr>
    <td height="100"><strong>trajectory</strong></td>
    <td>      <pre>data(obs)
<strong>time</strong>,<strong>lat,lon</strong>,z(obs)
scalar traj_id      </pre></td>
    <td>      <pre>data(traj,obs)<strong>
time</strong>,<strong>lat,lon</strong>,z(traj,obs)
<strong>traj_id</strong>(traj)     </pre>    </td>
    <td>      <pre>data(obs)
<strong>time</strong>,<strong>lat,lon</strong>,z(obs)
<strong>numObs</strong>(traj) | <strong>trajIndex</strong>(obs)
<strong>traj_id</strong>(traj)</pre></td>
    <td>      <pre>data(obs)<strong>
time</strong>,<strong>lat,lon,</strong>z(obs)
<strong>traj_id</strong>(obs)</pre>    </td>
    <td><pre>Table {
<strong></strong>
  Table {
    <strong>time</strong>, <strong>lat, lon, z</strong>;
    data1, data2, ...
  } obs(*); 
} traj(traj); </pre></td>
  </tr>
  <tr>
    <td height="116"><strong>profile</strong></td>
    <td>      <pre>data(z)<strong>
time</strong>(z) | <strong>time
</strong>scalar<strong> lat,lon
z(</strong>z)</pre>    </td>
    <td>      <pre>data(profile,z)
<strong>time</strong>(profile,z) | <strong>time</strong>(profile)
<strong>lat,lon</strong>(profile)
<strong>alt</strong>(profile,z) | <strong>z</strong>(z)     </pre>    </td>
    <td>      <pre>data(obs)
<strong>time</strong>(profile) | <strong>time</strong>(obs) <strong>
lat,lon</strong>(profile)
<strong>z</strong>(obs)
<strong>numObs</strong>(profile) | <strong>profileIndex</strong>(obs)</pre>    </td>
    <td>      <pre>data(obs)
<strong>time</strong>(obs)<strong>
lat,lon</strong>(obs)
<strong>z</strong>(obs)
<strong>prof_id</strong>(obs)</pre></td>
    <td><pre>Table {
  <strong>lat, lon, time;</strong>
  Table {
    <strong>z</strong>;
    data1, data2, ...
  } obs(*); 
} profile(profile); </pre></td>
  </tr>
  <tr>
    <td height="164"><strong>stationProfile</strong></td>
    <td>      <pre>data(profile, z)
<strong>time</strong>(profile, z)|<strong>time</strong>(profile)
<strong>lat,lon</strong>,<strong>stn_alt,stn_id
</strong><strong>alt</strong>(profile,z) | <strong>z</strong>(z)     </pre>    </td>
    <td>      <pre>data(station, profile, z)
<strong>time</strong>(station, profile, z)|<strong>time</strong>(station, profile)<strong>
lat,lon,stn_alt,stn_id</strong>(station)
<strong>alt</strong>(station, profile,z) | <strong>z</strong>(z)     </pre>    </td>
    <td>      <pre>data(obs)
<strong>time</strong>(profile) | <strong>time</strong>(obs)
<strong>lat,lon</strong>,<strong>stn_alt,stn_id</strong>(station)<strong>
z</strong>(obs)
numProfiles(station),numObs(profile) | 
  stationIndex(profile),profileIndex(obs)</pre>    </td>
    <td>      <pre>data(obs)
<strong>time</strong>(obs)<strong>
lat,lon</strong>,<strong>stn_alt</strong>(obs)
<strong>z</strong>(obs)
profileId(obs),<strong>stn_id</strong>(obs)</pre>    </td>
    <td><pre>Table {
  <strong>lat, lon, alt;</strong>
  Table {
   <strong> time;</strong>
    Table {
      <strong>z</strong>;
      data1, data2, ...
    } obs(*); 
  } profile(*); 
} station(station); </pre></td>
  </tr>
  <tr>
    <td height="148"><strong>section</strong></td>
    <td><pre>data(profile, z)<strong>
time</strong>(profile, z)|<strong>time</strong>(profile)<strong>
lat,lon</strong>(profile)
<strong>alt</strong>( profile,z) |<strong> z</strong>(z)     </pre>
    </td>
    <td>      <pre>data(section, profile, z)
<strong>time</strong>(section, profile, z)|<strong>time</strong>(section, profile)
<strong>lat,lon</strong>(section, profile)
<strong>alt</strong>(section,profile,z) | <strong>z</strong>(z)     </pre>    </td>
    <td>      <pre>data(obs)
<strong>time</strong>( profile) | <strong>time</strong>(obs)<strong>
lat,lon</strong>(profile)
<strong>z</strong>(obs) | <strong>z</strong>(z)
numProfiles(section), numObs(profile) |
  sectionIndex(profile), profileIndex(obs)</pre>    </td>
    <td>      <pre>data(obs)<strong>
time</strong>(obs)<strong>
lat,lon</strong>(obs)
<strong>z</strong>(obs)
profileId(obs),sectionId(obs)</pre>    </td>
    <td><pre>Table {<strong></strong>
  Table {
   <strong> lat, lon, time;</strong>
    Table {
      <strong>z</strong>;
      data1, data2, ...
    } obs(*); 
  } profile(*); 
} section(section); </pre></td>
  </tr>
</table>
<p><strong>Issues</strong></p>
<ul>
  <li>trajectory raggedIndexed  needs to know the trajectory dimension</li>
  <li>stationProfile, section flat needs to distinguish the two ids.</li>
  <li> there must be a station_id variable for station, stationProfile</li>
  <li>Also require a sectionId, trajectoryId, profileId variable using standard_name ??</li>
  <li>index is the id except for flat. that means aggregations have to do some tricks to generate unique indices.</li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>
</html>
