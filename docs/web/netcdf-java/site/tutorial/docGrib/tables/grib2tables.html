<html>
<head>
<title>Adding new parameters to GRIB 2 table</title>
  <link rel="stylesheet" type="text/css" href="../default.css" title="Style">

</head>

<body>
<a href="grib1tables.html"><img src="../images/PreviousArrow.gif" border="0"   alt="Previous: Adding new GRIB1 tables" title="Previous: Adding new GRIB1 tables"></a> <a href="test.html"><img src="../images/NextArrow.gif" border="0"   alt="Next: Testing your new GRIB tables/parameters" title="Next: Testing your new GRIB tables/parameters"></a>  <a href="../toc.html"><img src="../images/TOCIcon.gif" border="0"   alt="Table of contents" title="Table of contents"></a> <a href="../mainindex.html"><img src="../images/Index.gif" border="0"   alt="Index" title="Index"></a>  <a href="../glossary.html"><img src="../images/Glossary.gif" border="0"   alt="Glossary" title="Glossary"></a>   <a href="../imageindex.html"><img src="../images/Images.gif" border="0"   alt="Images" title="Images"></a>      <a href="../frames.html" target="_top"><img src="../images/Frames.gif" border="0"   alt="Frames" title="Frames"></a> 
<span class="breadcrumb"><a href="../index.html">Java GRIB library documentation</a>  > <a href="index.html">Adding/Updating External Parameter Tables</a>  </span>
<br>
<img src="../images/blueline.gif">
<p>
<div class="pagetitle">1.2 Adding new parameters to GRIB 2 table</div>


<p>
There are three methods of adding new parameters for GRIB 2 files.
<p>
<li>Use the ParameterTable.addParametersUser routine to add parameters
<li>Recompile distribution with new parameters 
<li>Modify the grib&lt;version&gt;.jar file 
<!--
<p>
Remember there is only one table for the GRIB 2 files, so it needs to be updated
with the new parameter information.
//-->
<h2>First method: Using the ParameterTable library routine</h2>
<p>
For the GRIB 2 section of the library, there is only one table, so 
adding new GRIB 2 parameters, you would need to create a file
named <b>grib2lookuptable.lst</b> which lists the parameters.

<p>
The format of grib2lookuptable.lst is:
<pre>
&lt;Discipline&gt;  &lt;Category&gt;  &lt;Parm #&gt;  &lt;Name&gt;  &lt;Units&gt;  &lt;Desc&gt;
</pre>

Parameters are listed by row, fields are separated by tabs,
so it would look like:

<pre>
#Dis    Cat     Parm #  Name            Units   Desc
0       0       0       Temperature     K       Temperature at 2 meters
</pre>

(This is a sample table, the lines starting with # are not include in table.)
<p>
The calling routine would look like this in your code.
<pre>

ParameterTable.addParametersUser("&lt;absolutePath&gt;/grib2lookuptable.lst")
</pre>

<h2>Second method: Recompiling the library distribution</h2>
Since the distribution comes with the source files and a <strong>ant</strong>
build.xml file, the distribution can be recompile easily.

<pre>
% cd "where the distribution was unpacked"
% cd resources/resources/grib/tables 
% edit grib2StdQuantities.xml adding your new parameter entries using the xml format
    &lt;discipline id="Meteorological_products" number="0"&gt;
        &lt;category id="Temperature" number="0"&gt;
            &lt;quantity id="Temperature" number="0" unit="K"
                description="Temperature" /&gt;
            &lt;quantity id="Virtual_temperature" number="1" unit="K"
                description="Virtual temperature" /&gt;
            &lt;quantity id="Potential_temperature" number="2" unit="K"
                description="Potential temperature" /&gt;
            &lt;quantity id="Pseudo-adiabatic_potential_temperature" number="3" unit
="K"
....

% cd ../../../..
% ant

</pre>
<p>
The new jar file is in the build directory.
At this point your new table can be access in the library without using any 
special calls.

<h2>Third method: Modifying the grib&lt;version&gt;.jar</h2>
This method is similar to the second method but instead of recompiling the
source code the grib2StdQuantities.xml file has to be replaced in the jar file.

<pre>

% cd "location of grib&lt;version&gt;.jar"
The following directory structure is needed
% mkdir resources/grib/tables 
Extract  grib2StdQuantities.xml file
% jar xvf grib&lt;version&gt;.jar  resources/grib/tables/grib2StdQuantities.xml
% cd resources/grib/tables 
% edit grib2StdQuantities.xml adding your new parameter entries same as above.
% cd ../../../..
% jar uvf grib&lt;version&gt;.jar resources/grib/tables/grib2StdQuantities.xml 

</pre>
<p>
At this point your new table can be access in the library without using any 
special calls.


<p>
<div  class="childlist" ><table  width="100%" ></table></div>
<p>&nbsp;<p>
<img src="../images/blueline.gif">
<br>
<a href="grib1tables.html"><img src="../images/PreviousArrow.gif" border="0"   alt="Previous: Adding new GRIB1 tables" title="Previous: Adding new GRIB1 tables"></a> <a href="test.html"><img src="../images/NextArrow.gif" border="0"   alt="Next: Testing your new GRIB tables/parameters" title="Next: Testing your new GRIB tables/parameters"></a>  <a href="../toc.html"><img src="../images/TOCIcon.gif" border="0"   alt="Table of contents" title="Table of contents"></a> <a href="../mainindex.html"><img src="../images/Index.gif" border="0"   alt="Index" title="Index"></a>   <a href="../glossary.html"><img src="../images/Glossary.gif" border="0"   alt="Glossary" title="Glossary"></a>     <a href="../imageindex.html"><img src="../images/Images.gif" border="0"   alt="Images" title="Images"></a>     <a href="../frames.html" target="_top"><img src="../images/Frames.gif" border="0"   alt="Frames" title="Frames"></a> 
<span class="breadcrumb"><a href="../index.html">Java GRIB library documentation</a>  > <a href="index.html">Adding/Updating External Parameter Tables</a>  </span>
<p>

</body>
</html>

