<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0052)http://www.vets.ucar.edu/luca/netcdf/netcdf.xsd.html -->
<HTML><HEAD>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<META content="MSHTML 6.00.2723.2500" name=GENERATOR></HEAD>
<BODY bgColor=#ffffff>
<h2 align=center><B><FONT color=#ff0000>COMMENTED SCHEMA FOR NcML<BR>
  (Netcdf Markup Language) </FONT></B></h2>
<pre>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;xsd:schema  targetNamespace="http://www.ucar.edu/schemas/netcdf"  
  xmlns:xsd="http://www.w3.org/2001/XMLSchema"  
  xmlns:nc="http://www.ucar.edu/schemas/netcdf"  
  elementFormDefault="qualified"&gt;</pre>
<P><FONT color=#0000ff><B><FONT color=#ff0000>Netcdf</FONT><BR></B>The 
<I>Netcdf</I> object represents a generic netCDF dataset, i.e. a container for 
data conforming to the netCDF model. For instance, a <I>Netcdf</I> object might 
represent a netCDF file, a subset of a netCDF file, a set of potential netCDF 
files, an aggregation of netCDF files or a self-contained dataset (i.e. all the 
data is already included in the NcML document and there is no netCDF file 
holding the data). </FONT><FONT color=#0000ff>A <I>Netcdf</I> object therefore 
should not necessarily be thought of as a physical netCDF file, but rather the 
"public interface" or API to a set of data, which may or may not be implemented 
with a physical netCDF file. The element <I>netcdf</I> is the root tag of the 
NcML instance document. </FONT></P>
<pre>&lt;!-- XML encoding of Netcdf container object --&gt;
&lt;xsd:complexType  name="NetcdfType"&gt;
&nbsp;&nbsp;&lt;xsd:choice minOccurs="0"  maxOccurs="unbounded"&gt; <FONT 
color=#0000ff>(1)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:element  ref="nc:dimension"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:element  ref="nc:variable" /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:element  ref="nc:attribute"/&gt;
&nbsp;&nbsp;&lt;/xsd:choice&gt;
&nbsp;&nbsp;&lt;xsd:attribute  name="id" type="xsd:token" use="optional" /&gt; <FONT 
color=#0000ff>(2)</FONT>
&nbsp;&nbsp;&lt;xsd:attribute name="uri"  type="xsd:anyURI" use="optional" /&gt; <FONT 
color=#0000ff>(3)</FONT>
&lt;/xsd:complexType&gt;</pre>
<pre>&lt;xsd:element name="netcdf" type="nc:NetcdfType"&gt;
&nbsp;&nbsp;  &lt;!-- uniqueness constraints among children of netcdf element  --&gt;
&nbsp;&nbsp;&nbsp;&lt;xsd:key name="dimensionName"&gt; <FONT 
color=#0000ff>(4)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:selector  xpath="nc:dimension" /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:field  xpath="@name" /&gt;
&nbsp;&nbsp;&lt;/xsd:key&gt;
&nbsp;&nbsp;&lt;xsd:key  name="variableName"&gt; <FONT 
color=#0000ff>(5)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:selector  xpath="nc:variable" /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:field xpath="@name"  /&gt;
&nbsp;&nbsp;&lt;/xsd:key&gt;
&nbsp;&nbsp;&lt;xsd:key  name="globalAttributeName"&gt; <FONT 
color=#0000ff>(6)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:selector  xpath="nc:attribute" /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:field  xpath="@name" /&gt;
&nbsp;&nbsp;&lt;/xsd:key&gt;
&lt;/xsd:element&gt;</pre>
<OL>
  <LI><FONT color=#0000ff>The <I>netcdf</I> element may contain any number 
  (including 0) of elements <I>variable</I>, <I>dimension</I>, <I>attribute</I>, 
  that can appear in any order within the document.</FONT> 
  <LI><FONT color=#0000ff>The optional <I>id</I> attribute is meant to provide a 
  way to uniquely identify (relative to the application context) the <I>Netcdf 
  </I>object. For example, if many NCML documents are stored on a server, each 
  of them can be assigned a unique key or id (id="abc123", id="cde_45" and so 
  on"). It is important to understand that the <I>id</I> attribute referes to 
  the dataset defined by the XML instance document, NOT the physical file 
  </FONT><FONT color=#0000ff>if there is even one. </FONT>
  <LI><FONT color=#0000ff>The optional <I>uri</I> attribute provides a reference 
  to the physical file containing the variable data that does not exist in the 
  NcML document itself. Currently the Java-Netcdf library supports the following 
  ways to access a physical netCDF file: 1) if the file is accessible on a local 
  disk, you can use the "file:" scheme (e.g. uri="file://E:/my/path/file.nc"). 
  If it is a DODS dataset that can be accessed through the netCDF API, use the 
  "dods:" scheme (e.g. uri="dods://www.host.com/dods/my/path/file.nc"). You can 
  also make a netCDF file accessible through an HTTP server: (e.g. 
  uri="http://www.host.com/my/path/file.nc"). </FONT>
  <LI><FONT color=#0000ff>The <I>name</I> attribute of a <I>dimension</I> 
  element must be unique within the scope of the enclosing <I>netcdf</I> element 
  (this constraint is compatible with the netCDF requirements that there cannot 
  be two dimensions in the same file with the same name)</FONT> 
  <LI> <FONT color=#0000ff>The <I>name</I> attribute of a <I>variable </I>element 
    must be unique within the scope of the enclosing <I>netcdf</I> element (this 
    constraint is compatible with the netCDF requirements that there cannot be 
    two variables in the same file with the same name).</FONT>
  <LI>
  <P><FONT color=#0000ff>The <I>name</I> attribute of a global <I>attribute</I> 
  element must be unique within the scope of the enclosing <I>netcdf</I> element 
  (this constraint is compatible with the netCDF requirements that there cannot 
  be two global attributes in the same file with the same name)</FONT> 
</P></LI></OL>
<P><B><FONT color=#ff0000>Dimension<BR></FONT></B><FONT color=#0000ff>A 
<I>Dimension</I> object represents a netCDF dimension, i.e. a named index of 
specified length.</FONT></P>
<pre>&lt;!-- XML encoding of Dimension object --&gt;
&lt;xsd:complexType  name="DimensionType"&gt;
&nbsp;&nbsp;&lt;xsd:attribute name="name"  type="xsd:token" use="required" /&gt; <FONT 
color=#0000ff>(1)</FONT>
&nbsp;&nbsp;&lt;xsd:attribute name="length"  type="xsd:nonNegativeInteger" use="required" /&gt; <FONT 
color=#0000ff>(2)</FONT>
&nbsp;&nbsp;&lt;xsd:attribute name="isUnlimited"  type="xsd:boolean" default="false" /&gt; <FONT 
color=#0000ff>(3)</FONT>
&lt;/xsd:complexType&gt;</pre>
<pre>&lt;xsd:element name="dimension" type="nc:DimensionType" /&gt;</pre>
<OL>
  <LI><FONT color=#0000ff>The mandatory <I>name</I> attribute is a unique 
  identifier for the <I>dimension</I> element. The netCDF specification 
  prescribes that dimensions names must be unique. Note that since the attribute 
  <I>name </I>is defined to be of type xsd:token, trailing and ending spaces are 
  ignored, and all other spaces or new lines are collapsed to one single 
  space.</FONT> 
  <LI><FONT color=#0000ff>The mandatory attribute <I>length </I>expresses the 
  cardinality (number of points) associated with the dimension. Its value can be 
  any non negative integer including 0 (since the unlimited dimension in a 
  netCDF file may have length 0, corresponding to 0 records).</FONT> 
  <LI><FONT color=#0000ff>The attribute <I>isUnlimited </I>needs to be specified 
  and set to "true" only if the dimension is the unlimited dimension in the 
  netCDF file, otherwise it defaults to the value "false"</FONT> </LI></OL>
<P><B><FONT color=#ff0000>Variable<BR></FONT></B><FONT color=#0000ff>A Variable 
object represents a netCDF variable, i.e. a scalar or multidimensional array of 
specified type indexed by 0 or more dimensions.</FONT></P>
<pre>&lt;!-- XML encoding of Variable object --&gt;
&lt;xsd:complexType  name="VariableType"&gt;
&nbsp;&nbsp;&lt;xsd:sequence&gt; <FONT 
color=#0000ff>(1)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:element  ref="nc:attribute" minOccurs="0" maxOccurs="unbounded" /&gt; <FONT 
color=#0000ff>(2)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:element  ref="nc:values" minOccurs="0" maxOccurs="1" /&gt; <FONT 
color=#0000ff>(3)</FONT>
&nbsp;&nbsp;&lt;/xsd:sequence&gt;
&nbsp;&nbsp;&lt;xsd:attribute  name="name" type="xsd:token" use="required" /&gt;<FONT color=#0000ff>  (4)</FONT>
&nbsp;&nbsp;&lt;xsd:attribute name="shape" type="xsd:token"  use="optional" /&gt; <FONT 
color=#0000ff>(5)</FONT>
&nbsp;&nbsp;&lt;xsd:attribute name="type"  type="nc:DataType" use="required" /&gt; <FONT 
color=#0000ff>(6)</FONT>
&lt;/xsd:complexType&gt;</pre>
<pre>&lt;xsd:element name="variable" type="nc:VariableType"&gt;  
&nbsp;&nbsp;&lt;xsd:key name="variableAttributeName"&gt; <FONT 
color=#0000ff>(7)</FONT>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:selector  xpath="nc:attribute" /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:field  xpath="@name" /&gt;
&nbsp;&nbsp;&lt;/xsd:key&gt;
&lt;/xsd:element&gt;</pre>
<pre>&lt;!-- XML encoding of Variable values --&gt;
&lt;xsd:complexType  name="ValuesType" mixed="true"&gt;
&nbsp;&nbsp;&lt;xsd:attribute  name="separator" type="xsd:string" default=" " /&gt; <FONT 
color=#0000ff>(8)</FONT>
&lt;/xsd:complexType&gt;</pre>
<pre>&lt;xsd:element name="values" type="nc:ValuesType" /&gt;
</pre>
<OL>
  <LI><FONT color=#0000ff>A <I>variable</I> element may contain any number 
  (including 0) of <I>attribute</I> elements, followed by an optional 
  <I>values</I> element (in that order)</FONT> 
  <LI><FONT color=#0000ff>0 or more <I>attribute</I> elements may be included, 
  expressing the particular properties of that variable (for example, the units, 
  a standard name, etc.)</FONT> 
  <LI><FONT color=#ff0000><FONT color=#0000ff>The <I>values</I> element is used 
  to optionally include the numerical values associated with a netCDF variable, 
  for example:<BR>&lt;nc:values separator=" "&gt;-109.0 -107.0 -105.0 
  -103.0&lt;/nc:values&gt;<BR></FONT></FONT><FONT color=#0000ff>Note that the 
  inclusion of the variable values is optional and will depend on on the needs 
  of the application which will make use of the XML instance document. 
  </FONT><FONT color=#ff0000><FONT color=#0000ff>For a multi-dimensional 
  variable, the values must be listed compatibly with the <I>shape</I> attribute 
  of the variable (which has the most rapidly varying dimension 
  last).</FONT></FONT><FONT color=#0000ff></FONT> <FONT color=#0000ff>To avoid 
  ambiguity, it was decided that the single value of a scalar variable must also 
  be encoded (if included) as the content of a <I>values</I> element, for 
  example:<BR>&lt;variable 
  name="T"&gt;&lt;values&gt;101&lt;/values&gt;&lt;attribute name="units" 
  value="degF" /&gt;&lt;/variable&gt;.</FONT> 
  <LI><FONT color=#0000ff>The variable <I>name </I>is meant to represent a 
  unique identifier for variables (but note that a netCDF variable may have the 
  same name as a netCDF dimension). Since this attribute is of type xsd:token, 
  any characters except "&gt;", "&lt;", """, "&amp;" are allowed (these 
  characters can be included in the name by using the standard XML escape 
  sequences &amp;gt;, &amp;lt;, &amp;quot;, &amp;amp; respectively). Note also 
  that trailing and leading spaces are ignored, and multiple spaces and new 
  lines within the name are collapsed to single spaces. </FONT>
  <LI><FONT color=#0000ff>The attribute <I>shape</I> represents an ordered list 
  (blank separated) of the names of the dimensions the variable depends on. The 
  dimensions names must be ordered with the most rapidly varying dimension last 
  (same as in the CDL description, same as for C multidimensional arrays). 
  Scalar variables must omit this attribute. (Note that shape="" is not a valid 
  value) </FONT>
  <LI><FONT color=#0000ff>The mandatory <I>type</I> attribute is a string 
  selected from a controlled vocabularly (see later) specifying the numerical 
  type of the variable.</FONT> 
  <LI><FONT color=#0000ff>The <I>name</I> attribute of a variable 
  <I>attribute</I> element must be unique within the scope of the enclosing 
  <I>variable </I>element (this constraint is compatible with the netCDF 
  requirements that a variable cannot have two attributes with the same 
  name)</FONT> 
  <LI><FONT color=#ff0000><FONT color=#0000ff>The list of values is ordinarily 
  blank-separated but optionally another token can be used as separator. 
  </FONT></FONT></LI></OL>
<P><FONT color=#0000ff><B><FONT 
color=#ff0000>Attribute</FONT></B></FONT><BR><FONT color=#0000ff>The 
<I>Attribute</I> object represents a netCDF attribute, i.e. a name-value pair of 
specified type. This could be a global netCDF attribute (if it is a child of a 
<I>netcdf</I> element) or a netCDF variable attribute (if it is a child of a 
<I>variable</I> element).</FONT></P>
<pre>&lt;!-- XML encoding of Attribute object --&gt;
&lt;xsd:complexType  name="AttributeType"&gt;
&nbsp;&nbsp;&lt;xsd:attribute name="name"  type="xsd:token" use="required" /&gt; <FONT 
color=#0000ff>(1)</FONT>
&nbsp;&nbsp;&lt;xsd:attribute name="type"  type="nc:DataType" use="required" /&gt; <FONT 
color=#0000ff>(2)</FONT>
&nbsp;&nbsp;&lt;xsd:attribute name="value"  type="xsd:string" use="optional" /&gt; <FONT 
color=#0000ff>(3)</FONT>
&nbsp;&nbsp;&lt;xsd:attribute name="separator"  type="xsd:string" default=" " /&gt; <FONT 
color=#0000ff>(4)</FONT>
&lt;/xsd:complexType&gt;</pre>
<pre>&lt;xsd:element name="attribute" type="nc:AttributeType" /&gt; </pre>
<OL>
  <LI><FONT color=#0000ff>The mandatory attribute name is of type xsd:token and 
  therefore may contain any characters except "&gt;", "&lt;", """, "&amp;" 
  (these characters can be included in the name by using the standard XML escape 
  sequences &amp;gt;, &amp;lt;, &amp;quot;, &amp;amp; respectively). Note also 
  that trailing and leading spaces are ignored, and multiple spaces and new 
  lines within the name are collapsed to single spaces. </FONT>
  <LI><FONT color=#0000ff>The mandatory <I>type</I> attribute is a string 
  selected from a controlled vocabularly (see later) specifying the numerical 
  type of the attribute. </FONT>
  <LI><FONT color=#0000ff>The <I>value </I>attribute contains the actual data of 
  the <I>attribute</I> element. In the most common case of single-valued 
  attributes, a single number or string will be listed (as in value="3.0"), 
  while in the less frequent case of multi-valued attributes, all the numbers 
  will be listed and separated by a blank or optionally some other character (as 
  in value="3.0 4.0 5.0").</FONT> 
  <LI><FONT color=#0000ff>The attribute <I>separator</I> represents the token 
  used to separate the values for a multi-valued attribute. If not specified, it 
  defaults to a blank.</FONT> </LI></OL>
<P><B><FONT color=#ff0000>Data Types<BR></FONT></B><FONT color=#ff0000><FONT 
color=#0000ff>The DataType object represents an enumerated list of the numerical 
data types allowed for NcML <I>Variable</I> and <I>Attribute</I> objects. Note 
that the type "char" (which is allowed in netCDF files) is not allowed in NcML, 
but it is substituted with "string" (including strings of lenght 
1).</FONT></FONT></P>
<pre>&lt;!-- possible data types for Variable, Attribute objects  --&gt;
&lt;xsd:simpleType  name="DataType"&gt;
&nbsp;&nbsp;&lt;xsd:restriction  base="xsd:token"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:enumeration value="byte"  /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:enumeration value="short"  /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:enumeration value="int"  /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:enumeration value="float"  /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:enumeration value="double"  /&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;xsd:enumeration value="string"  /&gt;
&nbsp;&nbsp;&lt;/xsd:restriction&gt;
&lt;/xsd:simpleType&gt;</pre>
<pre>&lt;/xsd:schema&gt;</pre>
<pre></pre>
</BODY></HTML>
