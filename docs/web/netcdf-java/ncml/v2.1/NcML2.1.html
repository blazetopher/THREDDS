<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>NcML-2.1</title>
</head>

<body>
<h1 align="left"><b>The NetCDF Markup Language (NcML)</b> version 2.1 </h1>
<h3 align="left"><a href="../index.htm">This version has been superceeded by NcML 2.2 </a></h3>
<hr align="left">
<h2 align="left">NcML Core </h2>
<p align="left"><b>NcML OBJECT MODEL</b><br>
  An abstract object model for expressing metadata associated with generic netCDF data<br>
    <a href="ObjectModel.htm"> specification</a> , <a href="ObjectModel.htm">UML diagram</a> <br>
</p>
<p><b>NcML SCHEMA</b><br>
  A schema in XSD format following the netCDF Metadata Object Model (release 1.0): </p>
<ul>
  <li>An <a href="baseSchemaAnnotated.htm">annotated schema</a> in HTML.</li>
  <li>The <a href="http://www.unidata.ucar.edu/schemas/netcdf.xsd">core schema</a> in XML/XSD.<a href="http://www.unidata.ucar.edu/schemas/netcdf.xsd"></a></li>
  <li><a href="schema.png">slides</a> </li>
  <li><a href="XMLSchemaModel.gif">XML Spy diagram</a></li>
</ul>
<p>Examples:</p>
<ul>
  <li>Simple example: <a href="examples/example.nc">netCDF file</a> , <a href="examples/example.cdl.txt">CDL file</a> , <a href="examples/example.xml">NcML XML file</a> </li>
  <li>Example CF-1 netcdf file (core NcML): <a href="examples/ccsm.nc">netCDF file</a>, <a href="examples/ccsm.cdl.txt">CDL header file</a> , <a href="examples/ccsm.xml">NcML metadata</a> . You may also be interested in the NcML Coordinate System <a href="examples/ccsmCS.xml">xml</a> (see below).<br>
  </li>
</ul>
<p align="left"><b>NcML METADATA EXTRACTION</b> <br>
  The NCAR community portal has a <a href="https://dataportal.ucar.edu:8443/cdp/ncml/NcMLgenerator.jsp%20">prototype web application</a> for the extraction of NcML metadata from any network-retrievable netcdf file.</p>
<hr align="left">
<h2 align="left">NcML Coordinate System</h2>
<p><b>NcML Coordinate System</b> extends the netCDF data model to add explicit support for general and georeferencing coordinate systems. The <b><i>ucar.nc2.dataset</i></b> package in the <a href="http://www.unidata.ucar.edu/packages/netcdf-java/">NetCDF Java library, version 2.1</a> implements the object model, creating a subclass of <b>NetcdfFile</b> called <b>NetcdfDataset</b>. The <b><i>ucar.nc2.datas</i></b><i><b>et.conv </b></i> package adds a framework for parsing <a href="http://www.unidata.ucar.edu/packages/netcdf/conventions.html">Conventions</a> to extract the coordinate systems and turn a NetcdfFile into a NetcdfDataset. NcML Coordinate System is essentially the external XML representation of that extended netCDF data model.</p>
<p><b>Summary of extensions to Core:</b></p>
<ol>
  <li> <b><i>netcdf</i></b> is redefined to allow <i>coordinateSystem</i> and <i>coordinateTransform</i> elements. </li>
  <li><b><i>variable</i></b> is redefined to allow the <i>coordinateSystems</i> attribute, which lists the coordinate systems for this variable.</li>
  <li> <b><i>coordinateAxis</i></b> extends <i>variable</i>, adding the <i>units</i> attribute, as well as optional attributes <i>axisType, positive and boundaryRef</i>
      <ul>
        <li><i><b>axisType</b></i> attribute identifies georeferencing coordinate axes. It has the possible values of <i>GeoX, GeoY, GeoZ, Height, Pressure, Lat, Lon, </i>or<i> Time</i>. </li>
        <li><b><i>positive</i></b> attribute is only used for vertical coordinate axes, and gives the direction of increasing values. It has the value <i>up</i> or <i>down</i>.</li>
        <li><i><b>boundaryRef</b></i> attribute is the name of a variable that is the boundary of this coordinate axis.</li>
      </ul>
  </li>
  <li> <b><i>coordinateSystem</i></b> is a list of <i>coordinateAxis</i> elements, and optional <i>coordinateTransform </i>elements.</li>
  <li> <i><b>coordinateTransform</b></i> represents a mathematical transformation of one coordinate system to another. It has a list of name/value pairs, called <i>parameters</i>, and an optional <i>transformType</i> that has the value <i>Projection</i> or <i>Sigma</i>. </li>
</ol>
<p align="left">An <a href="AnnotatedNetcdfCS.html">annotated schema</a> in HTML.</p>
<p align="left">The latest NcML Coordinate System <a href="http://www.unidata.ucar.edu/schemas/netcdf-cs.xsd">schema</a> in XML (release 1.0 beta).</p>
<p align="left"></p>
<p align="left">Examples:</p>
<ul>
  <li>AWIPS: <a href="examples/awips.txt">CDL</a> <a href="examples/awips.xml">NcML</a></li>
  <li>COARDS: <a href="examples/coards.txt">CDL</a> <a href="examples/coards.xml">NcML</a></li>
  <li>CF-1: <a href="examples/cf.txt">CDL</a> <a href="examples/cf.xml">NcML</a></li>
  <li>NUWG: <a href="examples/nuwg.txt">CDL</a> <a href="examples/nuwg.xml">NcML</a></li>
  <li>WRF model: <a href="examples/wrf.txt">CDL</a> <a href="examples/wrf.xml">NcML</a></li>
</ul>
<hr align="left">
<h2 align="left">NcML Dataset</h2>
<p align="left"><i><b>NcML Dataset</b></i> allows you to use NcML to define a netCDF file, similar to the <b>ncgen</b> command line tool, as well as to redefine, aggregate, and subset existing netCDF files.</p>
<p><b>Summary of extensions to Core:</b></p>
<ol>
  <li> <b><i>netcdf</i></b> is extended to allow <i>readMetadata, aggregation</i> and nested <i>netcdf</i> elements. </li>
  <li><b><i>variable</i></b> is extended to allow the <i>nameInFile</i> attribute, which allows you to rename a variable, and the <em><strong>logicalView</strong></em> element, which allows you to specify the data as a subset of another variable.</li>
  <li> <b><i>readMetada</i></b> allows you to read all or some of the variables, attributes and dimensions from another netCDF dataset, as well as rename them. </li>
  <li> <i><b>aggregation</b></i> allows you to aggregate variables from nested netcdf elements into a single logical variable.</li>
  <li> <i><b>values</b></i> is extended to allow the definition of regularly spaced values using a start and increment.</li>
</ol>
<p align="left">We are on version 2 of this specification:</p>
<ul>
  <li><a href="NetcdfDataset.html" align="left">Examples of use and Tutorial</a>.</li>
  <li><a href="NetcdfAggregation.html">Aggregation</a></li>
  <li>NcML Dataset XML <a href="http://www.unidata.ucar.edu/schemas/netcdfDataset2.xsd">schema</a></li>
  <li><a href="DatasetSpecification.htm">NcML Dataset Specification</a> </li>
</ul>
<p align="left">Previous version:</p>
<ul>
  <li><a href="NetcdfAggregationOld.html">Aggregation</a></li>
  <li>NcML Dataset <a href="http://www.unidata.ucar.edu/schemas/netcdfDataset.xsd">schema</a> in XML (version 1)</li>
</ul>
<p align="left">&nbsp;</p>
</body>
</html>
