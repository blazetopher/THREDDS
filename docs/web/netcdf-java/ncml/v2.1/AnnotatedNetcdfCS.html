<html>
<head>
<title>Netcdf dataset</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF" text="#000000">
<h1>Annotated NetCDF Coordinate System Schema</h1>
<p><i>version 0.99</i></p>
<p>This is the <b>standard XML Schema</b> element, using element definitions from 
  the xsd namespace. All elements that are defined use the &quot;ncml namespace&quot; 
  whose URI is <i>http://www.ucar.edu/schemas/netcdf</i>.</p>
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>&lt;xsd:schema targetNamespace=&quot;http://www.ucar.edu/schemas/netcdf&quot; <br>	xmlns:nc=&quot;http://www.ucar.edu/schemas/netcdf&quot; <br>	xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;<br>	elementFormDefault=&quot;qualified&quot;&gt;

</pre>
<p>The <b>NetcdfType</b> <b>type</b> (1) is redefined from the NcML Core Schema 
  to allow any number of <i>coordinateSystem</i> and <i>coordinateTransform</i> 
  elements to be included. The <b>VariableType type</b>(2) is redefined to allow 
  an optional <i>coordinateSystems</i> attribute, whose value is a list of names 
  of <i>coordinateSystem</i> elements for the variable. If there are more than 
  one, the names should be separated by whitespace.<br>
</p>
<pre>   &lt;!-- include all objects from core netcdf schema and allow redefinition    --&gt;
   &lt;xsd:redefine schemaLocation=&quot;netcdf.xsd&quot;&gt;

    &lt;xsd:complexType name=&quot;NetcdfType&quot;&gt; (1)
     &lt;xsd:complexContent&gt;
      &lt;xsd:extension base=&quot;nc:NetcdfType&quot;&gt;
       &lt;xsd:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
        &lt;xsd:element ref=&quot;nc:coordinateSystem&quot;/&gt;
        &lt;xsd:element ref=&quot;nc:coordinateTransform&quot;/&gt;
       &lt;/xsd:choice&gt;
      &lt;/xsd:extension&gt;
     &lt;/xsd:complexContent&gt;
    &lt;/xsd:complexType&gt;

   
    &lt;xsd:complexType name=&quot;VariableType&quot;&gt; (2)
     &lt;xsd:complexContent&gt;
      &lt;xsd:extension base=&quot;nc:VariableType&quot;&gt;
       &lt;xsd:attribute name=&quot;coordinateSystems&quot; type=&quot;xsd:token&quot; use=&quot;optional&quot;/&gt;
      &lt;/xsd:extension&gt;
     &lt;/xsd:complexContent&gt;
    &lt;/xsd:complexType&gt;

   &lt;/xsd:redefine&gt;
</pre>
<p>A <b>coordinate axis</b> is a generalization of a netCDF <b>coordinate variable</b>. 
  It can be multidimensional, and does not have to have the same name as a dimension. 
  Any variable that uses it must have all of the axis' dimensions. </p>
<p>A <b>coordinateAxis element</b> (3) is defined as an extension of a <b>VariableType</b> 
  from the core schema. The <i>units</i> attribute is required, and the <i>axisType</i>, 
  <i>positive</i> and <i>boundaryRef</i> attributes are optional. The value of 
  the <b>units</b> attribute should be a string parsable by the udunits library. 
  It may be blank. The <b>axisType</b> (4) identifies georeferencing coordinate 
  axes, and must have one of the values <i>GeoX</i>, <i>GeoY</i>, <i>GeoZ</i>, 
  <i>Time</i>, <i>Lat</i>, <i>Lon</i>, <i>Height</i>, or <i>Pressure</i>. The 
  <b>positive</b> attribute is used only for vertical georeferencing coordinate 
  axes (<i>GeoZ</i>, <i>Height</i>, or <i>Pressure</i>) to specify the direction 
  of increasing values, and must have one of the values <i>up</i> or <i>down</i> 
  (5). The <b>boundaryRef</b> attribute specifies the name of a variable in the 
  same file which is the boundary variable for this coordinate axis.</p>
<p>A coordinateAxis with axisType of <b>Lat</b> is a geographic latitude coordinate 
  with units convertible to +/- 90 <i>degrees</i> <i>north</i>. A coordinateAxis 
  with axisType of <b>Lon</b> is a geographic longitude coordinate with units 
  convertible to +/- 180 <i>degrees east</i>. A coordinateAxis with axisType of 
  <b>Time</b> is a date/time coordinate with units convertible to a date and time. 
  A coordinateAxis with axisType of <b>Height, Pressure, </b>or<b> GeoZ </b> is 
  a geographic &quot;altitude&quot; or &quot;vertical&quot; coordinate. A <b>Height</b> 
  axisType is a vertical distance with units convertible to <i>meters</i>. A positive 
  attribute <b>up</b> implies it is a distance above some reference point, while 
  a positive attribute <b>down</b> implies it is a distance below some reference 
  point. A <b>Pressure</b> axisType is a vertical distance with units convertible 
  to <i>pascals</i>. A <b>GeoX</b> and <b>GeoY</b> axisType must always come in 
  pairs, and represent the x and y values of a horizontal coordinate transform 
  from (x,y) to geographic latitude and longitude: <i>P(x,y) -&gt; (lat, lon)</i>. 
  A <b>GeoZ</b> axisType represents the z value of a vertical coordinate transform 
  to vertical pressure or height</p>
<pre>   &lt;!-- coordinateAxis element is a subtype of Variable --&gt;
   &lt;xsd:complexType name=&quot;CoordinateAxisType&quot;&gt; (3)
    &lt;xsd:complexContent&gt;
     &lt;xsd:extension base=&quot;nc:VariableType&quot;&gt;
      &lt;xsd:attribute name=&quot;units&quot; type=&quot;xsd:token&quot; use=&quot;required&quot;/&gt;
      &lt;xsd:attribute name=&quot;axisType&quot; type=&quot;nc:AxisType&quot; use=&quot;optional&quot;/&gt;
      &lt;xsd:attribute name=&quot;positive&quot; type=&quot;nc:PositiveValue&quot; use=&quot;optional&quot;/&gt;
      &lt;xsd:attribute name=&quot;boundaryRef&quot; type=&quot;xsd:token&quot; use=&quot;optional&quot;/&gt;
     &lt;/xsd:extension&gt;
    &lt;/xsd:complexContent&gt;
   &lt;/xsd:complexType&gt;
   &lt;xsd:element name=&quot;coordinateAxis&quot; type=&quot;nc:CoordinateAxisType&quot; substitutionGroup=&quot;nc:variable&quot;/&gt;</pre>
<pre>   &lt;!-- possible coordinateAxis types --&gt;
   &lt;xsd:simpleType name=&quot;AxisType&quot;&gt; (4)
    &lt;xsd:restriction base=&quot;xsd:token&quot;&gt;
     &lt;xsd:enumeration value=&quot;GeoX&quot;/&gt;
     &lt;xsd:enumeration value=&quot;GeoY&quot;/&gt;
     &lt;xsd:enumeration value=&quot;GeoZ&quot;/&gt;
     &lt;xsd:enumeration value=&quot;Time&quot;/&gt;
     &lt;xsd:enumeration value=&quot;Lat&quot;/&gt;
     &lt;xsd:enumeration value=&quot;Lon&quot;/&gt;
     &lt;xsd:enumeration value=&quot;Height&quot;/&gt;
     &lt;xsd:enumeration value=&quot;Pressure&quot;/&gt;
    &lt;/xsd:restriction&gt;
   &lt;/xsd:simpleType&gt;
   
   &lt;!-- possible values of positive attribute --&gt;
   &lt;xsd:simpleType name=&quot;PositiveValue&quot;&gt; (5)
    &lt;xsd:restriction base=&quot;xsd:token&quot;&gt;
     &lt;xsd:enumeration value=&quot;up&quot;/&gt;
     &lt;xsd:enumeration value=&quot;down&quot;/&gt;
    &lt;/xsd:restriction&gt;
   &lt;/xsd:simpleType&gt;
   </pre>
<p>A <b>coordinateAxisBoundary element</b> is an extension of a <b>VariableType</b> 
  from the core schema.<font color="#FF0000"> (LOOK: Is this really needed? Why 
  not just let it be any variable?)</font> It must have one or the other of these 
  shapes:</p>
<ol>
  <li>(dim1,dim2..., nvertices) where nvertices is the number of vertices of the 
    boundary. [CF definition]</li>
  <li>(dim1+1, dim2+1,...) [contiguous case] </li>
</ol>
<p>where dim1,dim2... are from the CoordinateAxis that refers to it,<br>
</p>
<pre>   &lt;!-- coordinateAxisBoundary element is a subtype of Variable --&gt;
   &lt;xsd:complexType name=&quot;CoordinateAxisBoundaryType&quot;&gt;
    &lt;xsd:complexContent&gt;
     &lt;xsd:extension base=&quot;nc:VariableType&quot;/&gt;
    &lt;/xsd:complexContent&gt;
    &lt;/xsd:complexType&gt;
   &lt;xsd:element name=&quot;coordinateAxisBoundary&quot; type=&quot;nc:CoordinateAxisBoundaryType&quot; substitutionGroup=&quot;nc:variable&quot;/&gt;</pre>
<p>A <b>coordinateSystem</b> element contains 1 or more <b>coordinateAxisRef</b> 
  elements, whose <b>ref</b> attribute is the name of a <i>coordinateAxis</i> 
  element in the same netCDF dataset. It contains 0 or more <b>coordinateTransform</b> 
  or <b>coordinateTransformRef</b> elements. It has a required <b>name</b> attribute, 
  which must be unique within the dataset, and which is used in a variable's <i>coordinateSystems</i> 
  attribute to refer to that coordinateSystem. A <b>coordinateTransform</b> element 
  may thus be a child of a <b>coordinateSystem</b> element, or it may be factored 
  out and referenced in a <b>coordinateTransformRef</b> element.<br>
</p>
<pre>   &lt;!-- CoordinateSystem object --&gt; 
   &lt;xsd:complexType name=&quot;CoordinateSystemType&quot;&gt;
    &lt;xsd:sequence&gt;
   
     &lt;!-- coordinate axis references --&gt;
     &lt;xsd:element name=&quot;coordinateAxisRef&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;unbounded&quot;&gt;
      &lt;xsd:complexType&gt;
       &lt;xsd:attribute name=&quot;ref&quot; type=&quot;xsd:string&quot;/&gt;
      &lt;/xsd:complexType&gt;
     &lt;/xsd:element&gt;</pre>
<pre>     &lt;!-- set of coordinateTransform or coordinateTransform references --&gt;
     &lt;xsd:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
      &lt;xsd:element ref=&quot;nc:coordinateTransform&quot;/&gt;
      &lt;xsd:element name=&quot;coordinateTransformRef&quot;&gt;
       &lt;xsd:complexType&gt;
        &lt;xsd:attribute name=&quot;ref&quot; type=&quot;xsd:token&quot;/&gt;
       &lt;/xsd:complexType&gt;
      &lt;/xsd:element&gt;
     &lt;/xsd:choice&gt;
   
    &lt;/xsd:sequence&gt;
   
    &lt;xsd:attribute name=&quot;name&quot; type=&quot;xsd:token&quot; use=&quot;required&quot;/&gt;
   &lt;/xsd:complexType&gt;
   &lt;xsd:element name=&quot;coordinateSystem&quot; type=&quot;nc:CoordinateSystemType&quot;/&gt;
   </pre>
<p>A <b>coordinateTransform</b> element has 0 or more <b>parameter</b> elements, 
  which are name/value pairs defined in the <i>AttributeType</i> of the core schema. 
  It must have a <b>name</b> that is unique among coordinateTransform elements 
  in the netCDF dataset, and a naming <b>authority</b> that should indicate where 
  the transform is defined and the meaning of the parameters. It has an optional 
  <b>TransformType</b> that has one of the values <i>Projection</i> or <i>Sigma</i>. 
  <font color="#FF0000">LOOK: those values seem wrong or inadequate. do we want 
  to think about that before we release?</font></p>
<p>When a coordinate system has <b>GeoX</b> and <b>GeoY</b> coordinate axes<i> 
  </i>, it should also have a <b>Projection</b> coordinate transform, which specifies 
  how to transform the GeoX, GeoY coordinates to geographic Latitude and Longitude. 
</p>
<pre>   &lt;!-- CoordinateTransform object --&gt;
   &lt;xsd:complexType name=&quot;CoordinateTransformType&quot;&gt;
    &lt;xsd:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;
     &lt;xsd:element name=&quot;parameter&quot; type=&quot;nc:AttributeType&quot;/&gt;
    &lt;/xsd:choice&gt;
    &lt;xsd:attribute name=&quot;name&quot; type=&quot;xsd:token&quot; use=&quot;required&quot;/&gt;
    &lt;xsd:attribute name=&quot;authority&quot; type=&quot;xsd:token&quot; use=&quot;required&quot;/&gt;
    &lt;xsd:attribute name=&quot;transformType&quot; type=&quot;nc:TransformType&quot; use=&quot;optional&quot;/&gt;
   &lt;/xsd:complexType&gt;
   &lt;xsd:element name=&quot;coordinateTransform&quot; type=&quot;nc:CoordinateTransformType&quot;/&gt;</pre>
<pre> &lt;!-- possible CoordinateTransform types --&gt;
   &lt;xsd:simpleType name=&quot;TransformType&quot;&gt;
    &lt;xsd:restriction base=&quot;xsd:token&quot;&gt;
     &lt;xsd:enumeration value=&quot;Projection&quot;/&gt;
     &lt;xsd:enumeration value=&quot;Sigma&quot;/&gt;
    &lt;/xsd:restriction&gt;
   &lt;/xsd:simpleType&gt;
   
&lt;/xsd:schema&gt;
</pre>
</body>
</html>
