<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
           
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"><title>NetCDF Markup Language</title>
</head><body bgcolor="#ffffff">
<h1 align="left"><b>The NetCDF Markup Language (NcML)</b> </h1>
<h2 align="left">Overview</h2>
<p align="left">NcML is an XML representation of netCDF metadata, (roughly) the 
  header information one gets from a netCDF file with the "ncdump -h" 
  command. NcML is similar to the netCDF <a href="http://www.unidata.ucar.edu/packages/netcdf/guidec/guidec-15.html#HEADING15-0">CDL</a> 
  (network Common data form Description Language), except, of course, it uses 
  XML syntax.</p>
<p align="left">NcML development is happening on two fronts: </p>
<ol>
  <li>In <a href="http://www.unidata.ucar.edu/software/netcdf-java/index.html">NetCDF-Java version 2.2</a>, the <b><i>NcML Core Schema</i></b> and <i><b>NcML Dataset</b></i> have been combined into a single <em><strong><a href="#NcML22">NcML-2.2 Schema</a></strong></em>, and some of the <i><b>NcML Dataset</b></i> syntax and functionality has been modified. This work is still in beta-test stage. </li>
  <li>The <b><i>NcML Coordinate System</i></b> is being extended with elements from GML for a more comprehensive map into GIS Systems. This work is led by <a href="http://www.unidata.ucar.edu/projects/THREDDS/Nativi/home.htm">Stefano Nativi </a>at the    <a href="http://www.unifi.it/">Universit&agrave; degli Studi di Firenze</a><strong>. </strong><b><i>NcML Coordinate System</i></b> will be superceded by <a href="#NcML-G_and_NcML-Gml">NcML-G.</a></li>
</ol>
<hr align="left">
<h2><a name="NcML22"></a>NcML 2.2 </h2>
<h3>NcML as output </h3>
<p>The simplest use of NcML is to describe the metadata and structural content of a netCDF file, like the output of <strong>ncdump -h</strong>. There are several ways to generate NcML ouput from an existing netCDF file:</p>
<ol>
  <li>In the <a href="/software/netcdf-java/v2.2/webstart/index.html">ToolsUI</a> application, use the NcML tab to open a NetCDF dataset, and the NcML will be displayed. You can edit and then save the NcML with the <strong>&quot;Save NcML</strong>&quot; button. </li>
  <li>In the NetCDF-Java library, use <strong>NetcdfFile.writeNcML()</strong> or <strong>NcMLWriter().writeXML().</strong> </li>
  <li>Use the NetCDF-Java library NCdump main program, eg:
    <pre><strong>    java -classpath toolsUI.jar ucar.nc2.NCdump &lt;NetCDF-3 filename&gt; -ncml</strong></pre>
  </li>
  <li>In the netCDF C library, version 3.6.1 or later , use<strong> ncdump -x&lt;NetCDF filename&gt;</strong></li>
</ol>
<h3>Using NcML to create a NetCDF-3 file </h3>
<p>Using the NetCDF-Java library, you can also use NcML to create a new netCDF-3 file, similar to the <strong>ncgen</strong> program.  </p>
<ol>
  <li>Using a text or XML editor, create the NcML file  with an &quot;xml&quot; or &quot;ncml&quot; file extension. Open the NcML file with <strong>NetcdfDataset.open()</strong>, then call <strong>ucar.nc2.FileWriter.writeFile()</strong></li>
  <li>In the <a href="/software/netcdf-java/v2.2/webstart/index.html">ToolsUI</a> application, open an existing NcML file  in the NcML tab, or create a new one. You can edit and  save the NcML with the <strong>&quot;Save NcML</strong>&quot; button. You can create the equivilent binary NetCDF file with the <strong>&quot;Write NetCDF</strong>&quot; button. </li>
</ol>
<h3>Advanced NcML </h3>
<p>A more  advanced use is to modify existing NetCDF files, as well as to create &quot;virtual&quot; NetCDF datasets, for example through aggregation. In that case, you'll have to read more: </p>
<ul>
  <li><a href="v2.2/Tutorial.html">Tutorial</a></li>
  <li><a href="v2.2/Aggregation.html">Aggregation</a></li>
  <li><a href="v2.2/FmrcAggregation.html">FMRC Aggregation</a> </li>
  <li><a href="v2.2/AnnotatedSchema.html">Annotated Schema</a></li>
  <li><a href="http://www.unidata.ucar.edu/schemas/netcdf/ncml-2.2.xsd">ncml-2.2.xsd</a> </li>
</ul>
<hr align="left">
<h2><a name="NcML-G_and_NcML-Gml"></a><strong>NcML-G and NcML-GML </strong></h2>
<p> The NcML GIS extensions have been developed to facilitate interoperability between the earth sciences and the GIS communities. NcML-G is the extensions data model, while the NcML-GML specifies the extensions XML encoding. </p>
<p> NcML-G and NcML-GML are at version 0.7.3 (November 2005). </p>
<ul>
  <li> Schema 
    <ul>
      <li><a href="http://zeus.pin.unifi.it/schemas/ncml/netcdf-coverage.xsd">netcdf-coverage.xsd </a></li>
    </ul>
  </li>
  <li> Publications 
    <ul>
      <li>&quot;An Interoperability language to connect netCDF and Geographic communities: ncML-GML v. 0.5&quot; presentation [ <a href="http://www.unidata.ucar.edu/software/netcdf/ncml/ncml-g/GML_Days_Presentation.pdf"> PDF</a> ] and submitted paper [ <a href="http://www.unidata.ucar.edu/projects/THREDDS/GALEON/ncML-GML%200.5_submitted.pdf"> PDF</a> ] at the <em>GML and Geo-Spatial Web Services Conference 2005</em>, Vancouver , British Columbia </li>
      <li><a href="http://www.unidata.ucar.edu/content/publications/ComputersAndGeosciences2004/nativicompsandgeo04.pdf"> Design and implementation of netCDF Markup Language (NcML) and Its GML-based extension (NcML-GML)</a> , published on <em>Computers &amp; Geosciences</em>, Volume 31, Issue 9, November 2005, Pages 1104-1118. </li>
    </ul>
  </li>
</ul>
<h3><strong> NcML-GML Java API</strong><strong></strong></h3>
<p> The API to read and write NcML-GML documents is called N2G. </p>
<p> N2G is at version 0.8 (November 2005). </p>
<ul>
  <li> N2G service (ncML-GML API demo)
      <ul>
        <li> Service URL: <a href="http://athena.pin.unifi.it:8080/ncml-gml/n2g-form.htm"> http://athena.pin.unifi.it:8080/ncml-gml/n2g-form.htm</a><br>
          It is an implementation of a service which extracts a ncML-GML representation of a netCDF-CF dataset, by means of the NcML-GML Java API. Current version is 0.7</li>
      </ul>
  </li>
</ul>
<hr align="left">
<h2 align="left"><b>Acknowledgments and History</b></h2>
<p align="left"> Earlier work in defining XML representations for netCDF data included Bear Giles DTD and XML tools in March 2000, a proposed DTD by Stefano Nativi and Lorenzo Bigagli at the University of Florence in May 2000, and a version developed by John Caron in February 2001.</p>
<p align="left">The original NcML working group consisted of John Caron (Unidata/UCAR), Luca Cinquini (SCD/NCAR), Ethan Davis (Unidata/UCAR), Bob Drach (PCMDI/LLNL), Stefano Nativi (University of Florence), and Russ Rew (Unidata/UCAR).</p>
<p align="left">In the first implementation of <a href="v2.1/NcML2.1.html">NcML, version 2.1</a>, there were three parts to NcML with separate schema documents: <i>1) </i><b><i>NcML Core Schema</i></b> represented the existing netCDF-3 data model; <i>2) </i><b><i>NcML Coordinate System</i></b> extended NcML Core Schema and extended the netCDF data model to add explicit support for general and georeferencing coordinate systems; 3)<i><b> NcML Dataset</b></i> extended NcML Core Schema to use NcML to define a netCDF file, similar to the <b>ncgen</b> command line tool, as well as to redefine, aggregate, and subset existing netCDF files.</p>
<hr align="left">
<p align="left">Please send comments and/or questions to <a href="mailto:support-netcdf-java@support.unidata.ucar.edu">support-netcdf-java@unidata.ucar.edu</a></p>
<address>
<img src="nc.gif" width="64" height="64"> This document is maintained by <a href="mailto:caron@unidata.ucar.edu">John Caron</a> and was last updated on Oct 18, 2006
</address>
<p align="left">&nbsp;</p>
</body>
</html>
