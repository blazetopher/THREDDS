<?xml version="1.0" encoding="UTF-8"?>
<catalog name="Unit Test Server: see thredds\tds\src\test\java\thredds\tds\TestTDSAll.java"
         xmlns="http://www.unidata.ucar.edu/namespaces/thredds/InvCatalog/v1.0"
         xmlns:xlink="http://www.w3.org/1999/xlink">

  <service name="latest" serviceType="Resolver" base=""/>

  <service name="all" base="" serviceType="compound">
    <service name="odap" serviceType="OpenDAP" base="/thredds/dodsC/"/>
    <service name="http" serviceType="HTTPServer" base="/thredds/fileServer/"/>
    <service name="wcs" serviceType="WCS" base="/thredds/wcs/"/>
    <service name="wms" serviceType="WMS" base="/thredds/wms/"/>
    <service name="ncss" serviceType="NetcdfSubset" base="/thredds/ncss/grid/"/>
    <service name="cdmremote" serviceType="CdmRemote" base="/thredds/cdmremote/"/>
  </service>

  <!-- here is the content that gets automatically installed in any TDS -->
  <datasetRoot path="testStandardTds" location="content/testdata/"/>
  <dataset name="Test Single Dataset" ID="testDataset" serviceName="odap" urlPath="testStandardTds/testData.nc" dataType="Grid"/>
  <dataset name="Test Single Dataset 2" ID="testDataset2" serviceName="odap" urlPath="testStandardTds/testData2.nc" dataType="Grid"/>
  <datasetScan name="Test standard TDS content" ID="testStandardTdsScan" path="testStandardTdsScan" location="content/testdata">
    <metadata inherited="true">
      <serviceName>all</serviceName>
      <dataType>Grid</dataType>
    </metadata>
  </datasetScan>

  <!-- a scan on the entire /upc/share/cdmUnitTest/tds directory; not all services will make sense -->
  <datasetScan name="Test all files in cdmUnitTest/tds" ID="testCdmUnitTest" path="testCdmUnitTest" location="Q:/cdmUnitTest/tds">
    <metadata inherited="true">
      <serviceName>all</serviceName>
      <dataType>Grid</dataType>
    </metadata>

    <addProxies>
      <simpleLatest />
    </addProxies>
    <sort>
      <lexigraphicByName increasing="true"/>
    </sort>
  </datasetScan>

  <catalogRef xlink:title="Test Enhanced Catalog" xlink:href="enhancedCatalog.xml" name=""/>

  <dataset name="Example NcML Modified" ID="ExampleNcMLModified" urlPath="ExampleNcML/Modified.nc">
    <serviceName>odap</serviceName>
    <dataType>Grid</dataType>
    <netcdf xmlns="http://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2" location="Q:/cdmUnitTest/tds/example1.nc" addRecords="true">
      <attribute name="name" value="value"/>
      <variable name="Temperature" orgName="T"/>
      <variable name="ReletiveHumidity" orgName="rh">
        <attribute name="long_name" value="relatively humid"/>
        <attribute name="units" value="percent (%)"/>
        <remove type="attribute" name="description"/>
      </variable>
    </netcdf>
  </dataset>

  <datasetScan name="ModifyDatasetScan" ID="ModifyDatasetScan" path="ModifyDatasetScan" location="Q:/cdmUnitTest/tds/">
    <metadata inherited="true">
      <serviceName>all</serviceName>
      <dataType>Grid</dataType>
    </metadata>

    <filter>
      <include wildcard="*.nc" collection="false" />
      <exclude wildcard="/*" collection="true"/>
    </filter>

    <netcdf xmlns="http://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2" addRecords="true">
      <attribute name="name" value="value"/>
      <variable name="Temperature" orgName="T"/>
      <variable name="ReletiveHumidity" orgName="rh">
        <attribute name="long_name" value="relatively humid"/>
        <attribute name="units" value="percent (%)"/>
        <remove type="attribute" name="description"/>
      </variable>
    </netcdf>

  </datasetScan>

  <!-- test FMRC -->
  <featureCollection featureType="FMRC" name="NAM FMRC" path="aggorama">

    <metadata inherited="true">
      <serviceName>all</serviceName>
      <dataType>Grid</dataType>
    </metadata>

    <collection spec="Q:/cdmUnitTest/ncml/agg/#yyyyMMdd_HHmm#.nc$"
                recheckAfter="30 sec"
                olderThan="10 min"/>
    <update startup="true" rescan="10 43 * * * ? *" trigger="allow"/>
    <protoDataset choice="Penultimate" change="0 43 * * * ? *"/>
    <fmrcConfig regularize="true" datasetTypes="TwoD Best Files Runs ConstantForecasts ConstantOffsets" />

  </featureCollection>

  <featureCollection name="POLCOMS-Irish-Sea" featureType="FMRC" path="NCOF/POLCOMS/IRISH_SEA">

    <metadata inherited="true">
      <serviceName>all</serviceName>
      <dataType>Grid</dataType>
    </metadata>

    <collection spec="Q:/cdmUnitTest/ncml/agg/#yyyyMMdd_HHmm#.nc$"/>

    <protoDataset>
      <netcdf xmlns="http://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2">
        <variable name="Visibility">
          <attribute name="units" value="celsius"/>
        </variable>
      </netcdf>
    </protoDataset>

  </featureCollection>


</catalog>