<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en"><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>THREDDS WCS Server</title>
  <link rel='stylesheet' href='/thredds/upc.css' type='text/css' />  

</head>
<body>
<table width="100%">
    <tr>
        <td width="95" height="95" align="left"><img src="../../unidataLogo.gif" width="95" height="93"> </td>
        <td width="701" align="left" valign="top">
            <table width="303">
                <tr>
                  <td width="295" height="22" align="left" valign="top"><h3><strong>Thredds Data Server </strong></h3></td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<div class="head"> 
  <h1>
    Web Coverage Server</h1>
  <address>
  last update: June 5, 2006 
  </address>
</div>
<hr>
<p>The THREDDS WCS Server implements the <a href="http://www.opengeospatial.org/">OGC</a> Web Coverage Service 1.0.0 <a href="http://www.opengeospatial.org/docs/03-065r6.pdf">specification</a>. It serves out gridded data in <a href="http://www.remotesensing.org/geotiff/geotiff.html">GeoTIFF</a> or NetCDF format. </p>
<h3>Which files can be served through the WCS server? </h3>
<ol>
  <li>Data files must contain gridded data.</li>
  <li>The NetCDF-Java Common Data Model must be able to identify the coordinates system used. Check this by opening in the Grid Panel of the ToolsUI application. There should be one or more variables shown as a GeoGrid.</li>
  <li>Currently due to WCS and GeoTIFF limitations, the X,Y and (if it exists) Z axes must be regularly spaced.</li>
</ol>
<h3>Configuration</h3>
<p>Available WCS datasets are listed in a THREDDS catalog like  other datasets. This is not necessarily of much use to WCS clients, who are more likely to expect a WCS Catalog. However it does allow users to find the needed URLs by browsing the catalog, or eventually through a search service. The files can be explicitly named in the catalog, e.g.:</p>
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>&lt;catalog xmlns=&quot;http://www.unidata.ucar.edu/namespaces/thredds/InvCatalog/v1.0&quot; 
  xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; version=&quot;1.0.1&quot;&gt;</pre>
<pre>  &lt;service name=&quot;wcs&quot; serviceType=&quot;WCS&quot; base=&quot;/thredds/wcs/&quot; suffix=&quot;?request=GetCapabilities&amp;version=1.0.0&amp;service=WCS&quot;/&gt;
    &lt;datasetRoot path=&quot;testwcs&quot; dirLocation=&quot;/data/wcs/&quot; /&gt;
  &lt;/service&gt;</pre>
<pre>  &lt;dataset name=&quot;GALEON Test Data&quot;&gt;</pre>
<pre>    &lt;metadata inherited=&quot;true&quot;&gt;
      &lt;serviceName&gt;wcs&lt;/serviceName&gt;
      &lt;authority&gt;unidata.ucar.edu:&lt;/authority&gt;
      &lt;dataType&gt;Grid&lt;/dataType&gt;
    &lt;/metadata&gt;</pre>
<pre>    &lt;dataset name=&quot;striped.nc&quot; urlPath=&quot;striped.nc&quot; /&gt;
    &lt;dataset name=&quot;sst.nc&quot; urlPath=&quot;sst.nc&quot; /&gt;
    &lt;dataset name=&quot;ocean.nc&quot; urlPath=&quot;ocean.nc&quot; /&gt;
    &lt;dataset name=&quot;eta.nc&quot; urlPath=&quot;eta.nc&quot; /&gt;
    &lt;dataset name=&quot;RUC.nc&quot; urlPath=&quot;RUC.nc&quot; /&gt;</pre>
<pre>  &lt;/dataset&gt;
&lt;/catalog&gt;</pre>
<p>The files named here all reside in the /data/wcs/ directory, named by the <strong>datasetRoot</strong> element in the service. You can also use a DatasetScan element to serve all the files in a directory tree. See <a href="../Configuration.html">TDS Configuration</a> for details. The only thing you need for WCS is to make the <strong>serviceType</strong> <em>WCS</em> and the <strong>base</strong> <em> /thredds/wcs/</em> . The optional <strong>suffix</strong> is added at the end of the URL, and forms the WCS <em>GetCapabilities</em> request URL. You may find it more convenient to not include the suffix. <br>
</p>
<h3>WCS Dataset URLs</h3>
<p>All THREDDS WCS requests start with </p>
<pre>  http://servername:8080/<strong>thredds/wcs/</strong>
</pre>
<p>The next part of the path indicates which file to use </p>
<pre>  http://servername:8080/thredds/wcs/<strong>testwcs/sst.nc</strong>
</pre>
<p>This is typically the URL you will need to pass to a WCS client. The WCS Client then forms various queries to the THREDDS WCS server for that dataset, e.g.:</p>
<pre>  http://servername:8080/thredds/wcs/test/sst.nc<strong>?request=GetCapabilities&amp;version=1.0.0&amp;service=WCS&amp;</strong></pre>
<h3>Serving Remote  Datasets </h3>
<p>A slight extension of the WCS Dataset URL format allows the TDS to serve remote datasets. Identify the dataset by adding the parameter <strong>dataset</strong> whose value is a URL:</p>
<pre>  http://servername:8080/thredds/wcs?<strong>dataset=<em>datasetURL</em>&amp;</strong></pre>
<p>The URL must be a dataset readable by the NetCDF-Java library, typically an OPeNDAP dataset on another server. It must have gridded data, with identifiable coordinate systems, etc. For example, an OPeNDAP URL might be</p>
<pre>  http://las.pfeg.noaa.gov/cgi-bin/nph-dods/data/oceanwatch/nrt/gac/AG14day.nc 
</pre>
<p>  This can be served remotely as a WCS dataset with this URL:</p>
<pre>  http://servername:8080/thredds/wcs?<strong>dataset=http://las.pfeg.noaa.gov/cgi-bin/nph-dods/data/oceanwatch/nrt/gac/AG14day.nc&amp;
</strong></pre>
<h3>Notes for clients<a name="clients"></a></h3>
<p>The following are WCS Coverage URLs for our test datasets: </p>
<ul><li><strong>http://motherlode.ucar.edu:8080/thredds/wcs/galeon/testdata/striped.nc</strong></li>
  <li><strong>http://motherlode.ucar.edu:8080/thredds/wcs/galeon/testdata/sst.nc</strong></li>
  <li><strong>http://motherlode.ucar.edu:8080/thredds/wcs/galeon/testdata/ocean.nc</strong></li>
  <li><strong>http://motherlode.ucar.edu:8080/thredds/wcs/galeon/testdata/eta.nc</strong></li>
  <li><strong>http://motherlode.ucar.edu:8080/thredds/wcs/galeon/testdata/RUC.nc</strong></li>
</ul>
<p>Here are example WCS queries for the first dataset: </p>
<ul>
  <li><strong>GetCapabilities</strong>:<a href="http://motherlode.ucar.edu:8080/thredds/wcs/galeon/testdata/RUC.nc?request=GetCapabilities&version=1.0.0&service=WCS">/thredds/wcs/galeon/testdata/RUC.nc?request=GetCapabilities&amp;version=1.0.0&amp;service=WCS</a></li>
  <li><strong>DescribeCoverage</strong>: <a href="http://motherlode.ucar.edu:8080/thredds/wcs/galeon/testdata/striped.nc?request=DescribeCoverage&version=1.0.0&service=WCS&coverage=ta">/thredds/wcs/galeon/testdata/striped.nc?request=DescribeCoverage&amp;version=1.0.0&amp;service=WCS&amp;coverage=ta</a></li>
  <li><strong>GetCoverage</strong> (GeoTIFF): <a href="http://motherlode.ucar.edu:8080/thredds/wcs/galeon/testdata/striped.nc?request=GetCoverage&version=1.0.0&service=WCS&format=GeoTIFF&coverage=ta&time=2005-05-10T00:00:00Z&vertical=100.0&bbox=-134,11,-47,57%20">/thredds/wcs/galeon/testdata/striped.nc?request=GetCoverage&amp;version=1.0.0&amp;service=WCS&amp;format=GeoTIFF&amp; coverage=ta&amp;time=2005-05-10T00:00:00Z&amp;vertical=100.0&amp;bbox=-134,11,-47,57 </a></li>
  <li><strong>GetCoverage </strong>(NetCDF3) : <a href="http://motherlode.ucar.edu:8080/thredds/wcs/galeon/testdata/striped.nc?request=GetCoverage&version=1.0.0&service=WCS&format=NetCDF3&coverage=ta&time=2005-05-10T00:00:00Z&vertical=100.0&bbox=-134,11,-47,57%20">/thredds/wcs/galeon/testdata/striped.nc?request=GetCoverage&amp;version=1.0.0&amp;service=WCS&amp;format=NetCDF3&amp; coverage=ta&amp;time=2005-05-10T00:00:00Z&amp;vertical=100.0&amp;bbox=-134,11,-47,57 </a><br>
  </li>
</ul>
<p>The supported formats are:</p>
<ol>
  <li><strong>GeoTIFF</strong>: A grayscale 8-bit GeoTIFF file </li>
  <li><strong>GeoTIFFfloat</strong>: A floating point &quot;Data Sample&quot; GeoTIFF file </li>
  <li><strong>NetCDF3</strong>: A NetCDF file</li>
</ol>
<h3>Status</h3>
<p>The WCS server is considered experimental, do not rely on it in a production environment. <br>
</p>
<div class="head"></div>
<hr width="100%">
<p> <i><span class="head">Comments to <a href="mailto:thredds@unidata.ucar.edu">THREDDS mailgroup</a> or <a href="mailto:support-thredds@support.unidata.ucar.edu">THREDDS support</a></span></i></p>
<p><i>Go to: <a href="http://www.unidata.ucar.edu/projects/THREDDS/tech/index.html">THREDDS Tech Page</a></i> or <i> <a href="http://www.unidata.ucar.edu/projects/THREDDS/">THREDDS Home Page</a></i> <img src="../../thredds.jpg" width="95" height="79"></p>
</body></html>
